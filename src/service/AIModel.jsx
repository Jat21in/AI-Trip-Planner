import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate a travel plan for the location: Las Vegas, for 3 days for a Couple on a Cheap budget, Give me a Hotels options with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest an itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit  in JSON."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a couple on a budget trip to Las Vegas for 3 days. It includes hotel options, a detailed itinerary, and all the requested information.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $80 per night\",\n       \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2a/1d/2a/3d/caption.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1393,\n        \"longitude\": -115.1677\n      },\n      \"rating\": 3.5,\n      \"description\": \"Family-friendly hotel on the Strip with a variety of attractions, including Adventuredome theme park.  Rooms are basic but clean, offering good value for a budget stay.\"\n    },\n   {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$60 - $90 per night\",\n      \"hotelImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/21/11/2f/44/excalibur-hotel-and-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0981,\n        \"longitude\": -115.1741\n      },\n      \"rating\": 4.0,\n       \"description\": \"Medieval-themed hotel with a lively atmosphere, several pools, and affordable dining options. The location at the south end of the Strip is convenient for exploration.\"\n    },\n    {\n      \"hotelName\": \"Strat Hotel, Casino & SkyPod\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$45 - $75 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/28/ae/ae/75/the-strat-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1463,\n        \"longitude\": -115.1557\n      },\n      \"rating\": 3.8,\n      \"description\": \"Hotel with iconic SkyPod offering amazing views of the city, especially at sunset.  Rooms are basic but comfortable, and it's a good option for a budget-friendly experience.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip and Free Attractions\",\n      \"bestTimeToVisit\": \"Afternoon/Evening\",\n      \"activities\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"A stunning indoor botanical garden with elaborate seasonal displays. Free admission.\",\n           \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/29/91/09/2d/caption.jpg?w=700&h=-1&s=1\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1735\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"travelTime\": \"5-10 minutes (walking from nearby hotels)\"\n        },\n         {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"Iconic water fountain show set to music and lights. Best seen at night. Free to watch from the street.\",\n          \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1a/7a/3d/73/fountains-of-bellagio.jpg?w=700&h=-1&s=1\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1732\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n           \"travelTime\": \"Adjacent to Bellagio Conservatory\"\n        },\n        {\n          \"placeName\": \"Walk the Las Vegas Strip\",\n           \"placeDetails\": \"Stroll the famous Las Vegas Strip, enjoying the sights, sounds, and free entertainment.\",\n           \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/24/7e/2e/8b/caption.jpg?w=700&h=-1&s=1\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n           \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"travelTime\": \"Varies based on how much you want to walk, you will be covering a part of the strip on each day\"\n        }\n      ]\n    },\n    \"day2\": {\n       \"theme\": \"Downtown and Unique Experiences\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"activities\": [\n           {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a massive LED canopy that displays stunning light shows. Free to walk through.\",\n           \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/21/31/8d/83/caption.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n            \"latitude\": 36.1702,\n            \"longitude\": -115.1411\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n           \"travelTime\": \"Approximately 20-30 minutes by bus or ride-share from the Strip\"\n        },\n         {\n            \"placeName\":\"Downtown Container Park\",\n            \"placeDetails\": \"A unique shopping and entertainment complex built from shipping containers. Offers live music, art, and interesting shops.\",\n             \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/10/a3/2b/0d/downtown-container-park.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n                \"latitude\": 36.1679,\n                \"longitude\": -115.1403\n            },\n            \"ticketPricing\":\"Free to enter\",\n            \"rating\": 4.4,\n            \"travelTime\": \"Adjacent to the Fremont Street Experience\"\n        },\n           {\n          \"placeName\": \"The Mob Museum\",\n           \"placeDetails\": \"An interesting museum that explores the history of organized crime. A good option for an indoor activity.\",\n            \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/26/34/4e/6e/the-mob-museum.jpg?w=700&h=-1&s=1\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1713,\n            \"longitude\": -115.1408\n          },\n          \"ticketPricing\": \"$29.95 per person\",\n          \"rating\": 4.7,\n          \"travelTime\": \"Walking distance from Fremont Street\"\n         }\n      ]\n    },\n   \"day3\": {\n      \"theme\": \"South Strip and Departure\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"activities\": [\n         {\n           \"placeName\": \"M&M's World\",\n           \"placeDetails\": \"A multi-story store dedicated to all things M&M's. Fun for window shopping and photos.\",\n           \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/21/a6/a0/e6/caption.jpg?w=700&h=-1&s=1\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.1043,\n                \"longitude\": -115.1721\n            },\n           \"ticketPricing\": \"Free to enter\",\n           \"rating\": 4.2,\n           \"travelTime\": \"Located at south of the strip near MGM grand\"\n         },\n          {\n            \"placeName\": \"The LINQ Promenade\",\n            \"placeDetails\":\"An open-air shopping and dining promenade with the High Roller observation wheel. A good place for a final stroll.\",\n            \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2a/45/df/95/caption.jpg?w=700&h=-1&s=1\",\n              \"geoCoordinates\": {\n                \"latitude\": 36.1167,\n                \"longitude\": -115.1705\n            },\n            \"ticketPricing\":\"Free to walk around, costs for activities\",\n             \"rating\":4.5,\n            \"travelTime\":\"A short walk from the central strip locations\"\n        },\n        {\n           \"placeName\": \"Explore Hotel Themed Areas\",\n          \"placeDetails\": \"Spend time in different hotels' themed areas for example you can explore the venetian canals (inside The venetian hotel),Paris hotel and its Eiffel Tower (outside the hotel).\",\n          \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/85/45/08/caption.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n                \"latitude\": 36.1161,\n                \"longitude\": -115.1719\n            },\n           \"ticketPricing\":\"Free to explore the hotels\",\n          \"rating\": 4.5,\n          \"travelTime\": \"Located near the LINQ and central strip\"\n        }\n      ]\n    }\n  }\n}\n```\n**Notes:**\n\n*   **Prices:** Hotel and ticket prices are approximate and can vary based on the season and availability. Always check for the most up-to-date prices before booking.\n*   **Transportation:** For budget travel, consider using the Las Vegas Monorail, the local bus system (RTC), or walking. Ride-sharing services are also an option, but can add to costs.\n*   **Food:** To stay within a budget, look for affordable dining options such as fast food, food courts, and happy hour deals. Consider getting snacks at a local grocery store.\n*   **Free Activities:** Las Vegas has many free attractions, so take advantage of these. The itinerary focuses on many of them.\n*   **Customization:** Feel free to adjust the itinerary to your interests. This is a template, and you can add or remove locations as desired.\n*   **Flexibility:** Be flexible! Travel plans can change, so go with the flow and enjoy Las Vegas!\n\nThis JSON provides a comprehensive starting point for your budget-friendly Las Vegas trip. Enjoy!\n"},
          ],
        },
      ],
    });